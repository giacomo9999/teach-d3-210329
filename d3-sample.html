<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Basics Of D3</title>
  <head>
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <style>
      svg rect {
        fill: orange;
      }
    </style>
  </head>
  <body></body>
  <script>
    let data = [5, 10, 12, 8, 17, 26];
    let width = 1000,
      scaleFactor = 10,
      barHeight = 50,
      spaceBetweenBars = 5;

    let graph = d3
      .select("body")
      .append("svg")
      .attr("width", width)
      .attr("height", (barHeight + spaceBetweenBars) * data.length);
    console.log("Graph: ", graph);

    let bars = graph
      // At this point, there are no elements in the body. So this will return an empty array.
      .selectAll()
      // .data = analogous to .map - joins data to selected object (in this case, graph).
      .data(data)
      // .enter identifies any DOM elements that need to be added when the joined array is longer than the selection. It returns an enter selection which represents the elements that need to be added.
      .enter()
      // Itâ€™s usually followed by .append which adds elements to the DOM:
      .append("rect")
      .attr("transform", (d, i, offset = 5) => {
        return `translate(0,${i * (barHeight + spaceBetweenBars)})`;
      })
      .attr("width", (d) => {
        return d * scaleFactor;
      })
      .attr("height", barHeight);
    //   .style("fill", (d) => (d % 2 === 0 ? "green" : "red"));
    console.log("Bars: ", bars);
  </script>
</html>
