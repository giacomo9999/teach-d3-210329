<html>
  <title>Basics Of D3</title>
  <head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    
    <style>
      svg rect {
        fill: orange;
      }
    </style>

  </head>
  <body></body>
  <script>
    let data = [5, 10, 12, 8, 17, 26];
    let width = 1000,
      scaleFactor = 10,
      barHeight = 50,
      spaceBetweenBars = 5;

    let graph = d3
      .select("body")
      .append("svg")
      .attr("width", width)
      .attr("height", (barHeight + spaceBetweenBars) * data.length);
    console.log(graph);

    let bars = graph
      // Why do we need selectAll() if the elements don't even exist yet?
      // Because in D3 instead of telling how to do something, we tell *what* we want.
      // In this case, you want to associate each element with an element of the array. That's what you are saying with the selectAll().
      .selectAll()
      // .data = analogous to forEach
      .data(data)
      // .enter identifies any DOM elements that need to be added when the joined array is longer than the selection. It returns an enter selection which basically represents the elements that need to be added.
      .enter()
      // Itâ€™s usually followed by .append which adds elements to the DOM:
      .append("rect")
      .attr("transform", (d, i, offset = 5) => {
        console.log(d, i);
        return `translate(0,${i * (barHeight + spaceBetweenBars)})`;
      })
      .attr("width", (d) => {
        return d * scaleFactor;
      })
      .attr("height", barHeight - 1);
  </script>
</html>
